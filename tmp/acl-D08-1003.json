{
  "info": {
    "authors": [
      "Yunyao Li",
      "Rajasekar Krishnamurthy",
      "Sriram Raghavan",
      "Shivakumar Vaithyanathan",
      "H. V. Jagadish"
    ],
    "book": "Conference on Empirical Methods in Natural Language Processing",
    "id": "acl-D08-1003",
    "title": "Regular Expression Learning for Information Extraction",
    "url": "https://aclweb.org/anthology/D08-1003",
    "year": 2008
  },
  "references": [
    "acl-H05-1056",
    "acl-P06-1141",
    "acl-W00-1301",
    "acl-W03-0428",
    "acl-W06-1660",
    "acl-X98-1004"
  ],
  "sections": [
    {
      "text": [
        "Yunyao Li, Rajasekar Krishnamurthy, Sriram Raghavan, Shivakumar Vaithyanathan",
        "IBM Almaden Research Center San Jose, CA 95120",
        "H. V. Jagadish*",
        "Regular expressions have served as the dominant workhorse of practical information extraction for several years.",
        "However, there has been little work on reducing the manual effort involved in building high-quality, complex regular expressions for information extraction tasks.",
        "In this paper, we propose ReLIE, a novel transformation-based algorithm for learning such complex regular expressions.",
        "We evaluate the performance of our algorithm on multiple datasets and compare it against the CRF algorithm.",
        "We show that ReLIE, in addition to being an order of magnitude faster, outperforms CRF under conditions of limited training data and cross-domain data.",
        "Finally, we show how the accuracy of CRF can be improved by using features extracted by ReLIE."
      ]
    },
    {
      "heading": "1. Introduction",
      "text": [
        "A large class of entity extraction tasks can be accomplished by the use of carefully constructed regular expressions (regexes).",
        "Examples of entities amenable to such extractions include email addresses and software names (web collections), credit card numbers and social security numbers (email compliance), and gene and protein names (bioinfor-matics), etc.",
        "These entities share the characteristic that their key representative patterns (features) are expressible in standard constructs of regular expressions.",
        "At first glance, it may seem that constructing",
        "* Supported in part by NSF 0438909 and NIH 1-U54-DA021519.",
        "a regex to extract such entities is fairly straightforward.",
        "In reality, robust extraction requires the use of rather complex expressions, as illustrated by the following example.",
        "Example 1 (Phone number extraction).",
        "An obvious pattern for identifying phone numbers is \"blocks of digits separated by hyphens\" represented as R\\ =",
        "\"precision\" and \"recall\" problems.",
        "Not only does R\\ produce incorrect matches (e.g., social security numbers like 123-45-6789), it also fails to identify valid phone numbers such as 800.865.1125, and (800)865-CARE.",
        "An improved regex that addresses these problems is R2 =",
        "(\\d{3}[-.\\ ()]){1,2}[\\dA-Z]{4}.",
        "While multiple machine learning approaches have been proposed for information extraction in recent years (McCallum et al., 2000; Cohen and McCal-lum, 2003; Klein et al., 2003; Krishnan and Manning, 2006), manually created regexes remain a widely adopted practical solution for information extraction (Appelt and Onyshkevych, 1998; Fukuda et al., 1998; Cunningham, 1999; Tanabe and Wilbur, 2002; Li et al., 2006; DeRose et al., 2007; Zhu et al., 2007).",
        "Yet, with a few notable exceptions, which we discuss later in Section 1.1, there has been very little work in reducing this human effort through the use of automatic learning techniques.",
        "In this paper, we propose a novel formulation of the problem oflearn-",
        "Proceedings of the 2008 Conference on Empirical Methods in Natural Language Processing, pages 21-30, Honolulu, October 2008.",
        "©2008 Association for Computational Linguistics",
        "ing regexes for information extraction tasks.",
        "We demonstrate that high quality regex extractors can be learned with significantly reduced manual effort.",
        "To motivate our approach, we first discuss prior work in the area of learning regexes and describe some of the limitations of these techniques.",
        "The problem of inducing regular languages from positive and negative examples has been studied in the past, even outside the context of information extraction (Alquezar and Sanfeliu, 1994; Dupont, 1996; Firoiu et al., 1998; Garofalakis et al., 2000; Denis, 2001; Denis et al., 2004; Fernau, 2005; Galassi and Giordana, 2005; Bex et al., 2006).",
        "Much of this work assumes that the target regex is small and compact thereby allowing the learning algorithm to exploit this information.",
        "Consider, for example, the learning of patterns motivated by DNA sequencing applications (Galassi and Gior-dana, 2005).",
        "Here the input sequence is viewed as multiple atomic events separated by gaps.",
        "Since each atomic event is easily described by a small and compact regex, the problem reduces to one of learning simple regexes.",
        "Similarly, in XML DTD inference (Garofalakis et al., 2000; Bex et al., 2006), it is possible to exploit the fact that the XML documents of interest are often described using simple DTDs.",
        "E.g., in an online books store, each book has a title, one or more authors and price.",
        "This information can be described in a DTD as (book) – (titie)(author) + (price).",
        "However, as shown in Example 1, regexes for information extraction rely on more complex constructs.",
        "In the context of information extraction, prior work has concentrated primarily on learning regexes over relatively small alphabet sizes.",
        "A common theme in (Soderland, 1999; Ciravegna, 2001; Wu and Pottenger, 2005; Feldman et al., 2006) is the problem of learning regexes over tagged tokens produced by other text-processing steps such as POS tagging, morphological analysis, and gazetteer matching.",
        "Thus, the alphabet is defined by the space of possible tags output by these analysis steps.",
        "A similar approach has been proposed in (Brill, 2000) for POS disambiguation.",
        "In contrast, our paper addresses extraction tasks that require \"fine-grained\" control to accurately capture the structural features of the entity of interest.",
        "Consequently, the domain of interest consists of all characters thereby dramatically increasing the size of the alphabet.",
        "To enable this scale-up, the techniques presented in this paper exploit advanced syntactic constructs (such as character classes and quantifiers) supported by modern regex languages.",
        "Finally, we note that almost all of the above described work define the learning problem over a restricted class of regexes.",
        "Typically, the restrictions involve either disallowing or limiting the use of Kleene disclosure and disjunction operations.",
        "However, our work imposes no such restrictions.",
        "In a key departure from prior formulations, the learning algorithm presented in this work takes as input not just labeled examples but also an initial regular expression.",
        "The use of an initial regex has two major advantages.",
        "First, this expression provides a natural mechanism for a domain expert to provide domain knowledge about the structure ofthe entity being extracted.",
        "Second, as we show in Section 2, the space of output regular expressions under consideration can be meaningfully restricted by appropriately defining their relationship to the input expression.",
        "Such a principled approach to restrict the search space permits the learning algorithm to consider complex regexes in a tractable manner.",
        "In contrast, prior work defined a tractable search space by placing restrictions on the target class of regular expressions.",
        "Our specific contributions are:",
        "• A novel regex learning problem consisting of learning an \"improved\" regex given an initial regex and labeled examples",
        "• Formulation of this learning task as an optimization problem over a search space of regexes",
        "• ReLIE, a regex learning algorithm that employs transformations to navigate the search space",
        "• Extensive experimental results over multiple datasets to show the effectiveness of ReLIE and a comparison study with the Conditional Random Field (CRF) algorithm",
        "• Finally, experiments that demonstrate the benefits of using ReLIE as a feature extractor for CRF and possibly other machine learning algorithms."
      ]
    },
    {
      "heading": "2. The Regex Learning Problem",
      "text": [
        "Consider the task of identifying instances of some entity E. Let R0 denote the input regex provided by the user and let M(R0, D) denote the set of matches obtained by evaluating R0 over a document collection D. Let Mp(Ro, D) = {x e M(R0, D) : x instance of Ej and Mn(R0, D) = {x e M(R0, D) : x not an instance of E j denote the set of positive and negative matches for R0.",
        "Note that a match is positive if it corresponds to an instance of the entity of interest and is negative otherwise.",
        "The goal of our learning task is to produce a regex that is \"better\" than R0 at identifying instances of E.",
        "Given a candidate regex R, we need a mechanism to judge whether R is indeed a better extractor for E than R0.",
        "To make this judgment even for just the original document collection D, we must be able to label each instance matched by R (i.e., each element of M(R, D)) as positive or negative.",
        "Clearly, this can be accomplished if the set of matches produced by R are contained within the set of available labeled examples, i.e., if M(R, D) ç M(R0, D).",
        "Based on this observation, we make the following assumption:",
        "Assumption 1.",
        "Given an input regex R0 over some alphabet E, any other regex R over E is a candidate for our learning algorithm only if L(R) ç L(R0).",
        "(L(R) denotes the language accepted by R).",
        "Even with this assumption, we are left with a potentially infinite set of candidate regexes from which our learning algorithm must choose one.",
        "To explore this set in a principled fashion, we need a mechanism to move from one element in this space to another, i.e., from one candidate regex to another.",
        "In addition, we need an objective function to judge the extraction quality of each candidate regex.",
        "We address these two issues below.",
        "Regex Transformations To systematically explore the search space, we introduce the concept of regex transformations.",
        "Definition 1 (Regex Transformation).",
        "Let Rs denote the set of all regular expressions over some alphabet E. A regex transformation is a function T : Rs – 2Re such that VR' e T (R), L(R') ç L(R).",
        "For example, by replacing different occurrences of the quantifier + in Ri from Example 1 with specific ranges (such as {1,2} or {3}), we obtain expressions such as R3 = (\\d+\\-){1,2}\\d+ and",
        "R4 = (\\d{3}\\-)+\\d+.",
        "The operation of replacing quantifiers with restricted ranges is an example of a particular class of transformations that we describe further in Section 3.",
        "For the present, it is sufficient to view a transformation as a function applied to a regex R that produces, as output, a set ofregexes that accept sublanguages of L(R).",
        "We now define the search space of our learning algorithm as follows: Definition 2 (Search Space).",
        "Given an input regex R0and a set of transformations T, the search space of our learning algorithm is T(R0 ), the set of all regexes obtained by (repeatedly) applying the transformations in T to Ro .",
        "For instance, if the operation of restricting quantifiers that we described above is part of the transformation set, then R3 and R4 are in the search space of our algorithm, given Ri as input.",
        "Objective Function We now define an objective function, based on the well known F-measure, to compare the extraction quality of different candidate regexes in our search space.",
        "Using Mp(R, D) (resp.",
        "Mn(R, D)) to denote the set of positive (resp.",
        "negative) matches of a regex R, we define",
        "The regex learning task addressed in this paper can now be formally stated as the following optimization problem:",
        "Definition 3 (Regex Learning Problem).",
        "Given an input regex Ro , a document collection D, labeled sets ofpositive and negative examples Mp(Ro,D) and Mn(R0,D), and a set of transformations T, compute the output regex Rf = argmaxReT (Ro ) F (R, D)."
      ]
    },
    {
      "heading": "3. Instantiating Regex Transformations",
      "text": [
        "In this section, we describe how transformations can be implemented by exploiting the syntactic constructs of modern regex engines.",
        "To help with our description, we introduce the following task:",
        "Example 2 (Software name extraction).",
        "Consider the task ofidentifying names ofsoftware products in text.",
        "A simple pattern for this task is: \"one or more capitalized words followed by a version number\", represented as R5 = ([A-Z]\\w*\\s*) + [Vv]?(\\d+\\.?",
        ")+.",
        "When applied to a collection of University web pages, we discovered that R5 identified correct instances such as Netscape 2.0, Windows 2000 and Installation Designer vl.1.",
        "However, R5 also extracted incorrect instances such as course numbers (e.g. ENGLISH 317), room numbers (e.g. Room 330), and section headings (e.g. Chapter 2.2).",
        "To eliminate spurious matches such as ENGLISH 317, let us enforce the condition that \"each word is a single upper-case letter followed by one or more lower-case letters\".",
        "To accomplish this, we focus on the sub-expression of R5 that identifies capitalized words, R5l = ([A-Z]\\w*\\s*)+, and replace it with R5la = ([A-Z][a-z]*\\s*)+.",
        "The regex resulting from R5 by replacing R5l with R5la will avoid matches such as ENGLISH 317.",
        "An alternate way to improve R5 is by explicitly disallowing matches against strings like ENGLISH, Room and Chapter.",
        "To accomplish this, we can exploit the negative lookahead operator supported in modern regex engines.",
        "Lookaheads are special constructs that allow a sequence of characters to be checked for matches against a regex without the characters themselves being part of the match.",
        "As an example, (?",
        "!Ra)Rb (\"?!\"",
        "being the negative lookahead operator) returns matches of regex Rb but only if they do not match Ra.",
        "Thus, by replacing R5l in our original regex with we produce an improved regex for software names.",
        "The above examples illustrate the general principle of our transformation technique.",
        "In essence, we isolate a sub-expression of a given regex R and modify it such that the resulting regex accepts a sublanguage of R. We consider two kinds of modifications - drop-disjunct and include-intersect.",
        "In drop-disjunct, we operate on a sub-expression that corresponds to a disjunct and drop one or more operands of that disjunct.",
        "In include-intersect, we restrict the chosen sub-expression by intersecting it with some other regex.",
        "Formally, Definition 4 (Drop-disjunct Transformation).",
        "Let",
        "R e Rs be a regex of the form R = Rap(X)Rb, where p(X) denotes the disjunction Ri |R21... |Rn of any non-empty set of regexes X = {Ri, R2,..., Rnj.",
        "The drop-disjunct transformation DD(R, X, Y) for some Y C X, Y = 0 results in the new regex Rap(Y)Rb.",
        "Definition 5 (Include-Intersect Transformation).",
        "Let",
        "R e Rs be a regex of the form R = RaXRb for some X e Rs, X = 0.",
        "The include-intersect transformation II(R, X, Y) for some Y e Rs, Y = 0 results in the new regex Ra(X n Y)Rb.",
        "We state the following proposition (proof omitted in the interest of space) that guarantees that both drop-disjunct and include-intersect restrict the language of the resulting regex, and therefore are valid transformations according to Definition 1.",
        "Proposition 1.",
        "Given regexes R, Xi,Yi,X2 and Y2from Rs such that DD(R,Xi,Yi) and II(R, X2,Y2) are applicable, L(DD(R, Xi,Yi)) ç L(R) and L(II(R,X2,Yî)) ç L(R).",
        "We now proceed to describe how we use different syntactic constructs to apply drop-disjunct and include-intersect transformations.",
        "Character Class Restrictions Character classes are shorthand notations for denoting the disjunction of a set of characters (\\d is equivalent to (0|1...|9); \\w is equivalent to (a|... |z|A|... |Z|0|1... |9|_) ; etc.).",
        "Figure 1 illustrates a character class hierarchy in which each node is a stricter class than its parent (e.g., \\d is stricter than \\w).",
        "A replacement of any of these character classes by one of its descendants is an instance of the drop-disjunct transformation.",
        "Notice that in Example 2, when replacing R5l with R5la, we were in effect applying a character class restriction.",
        "Quantifier Restrictions Quantifiers are used to define the range of valid counts of a repetitive sequence.",
        "For instance, a{m,n} looks for a sequence of a's of length at least m and at most n. Since quantifiers are also disjuncts (e.g., a{1,3} is equivalent to a aa aaa), the replacement of an expression R{m, n} with an expression R{m1, n1} (m < m1 < n1 < n) is an instance of the drop-disjunct transformation.",
        "For example, given a subexpression of the form a{1,3} , we can replace it with one of a{1,1}, a{1,2}, a{2,2}, a{2,3},or a{3,3}.",
        "Note that, before applying this transformation, wildcard expressions such as a+ and a* are replaced by a{0,maxCount} and a{1,maxCount} respectively, where maxCount is a user configured maximum length for the entity being extracted.",
        "Negative Dictionaries Observe that the include-intersect transformation (Definition 5) is applicable for every possible sub-expression of a given regex R. Note that a valid sub-expression in R is any portion of R where a capturing group can be introduced.",
        "Consider a regex R = RaXRb with a subexpression X ; the application of include-intersect requires another regex Y to yield Ra(X n Y)Rb.",
        "We would like to construct Y such that Ra(X n Y)Rb is \"better\" than R for the task at hand.",
        "Therefore, we construct Y as - Y' where Y' is a regex constructed from negative matches of R. Specifically, we look at each negative match of R and identify the substring of the match that corresponds to X.",
        "We then apply a greedy heuristic (see below) to these substrings to yield a negative dictionary Y'.",
        "Finally, the transformed regex Ra(X n - Y ' )Rb is implemented using the negative lookahead expression Ra (?!",
        "Y')xRb.",
        "Greedy Heuristic for Negative Dictionaries Implementation of the above procedure requires certain judicious choices in the construction of the negative dictionary to ensure tractability of this transformation.",
        "Let S(X) denote the distinct strings that correspond to the sub-expression X in the negative matches of R. Since any subset of S(X) is a candidate negative dictionary, we are left with an exponential number of possible transformations.",
        "In our implementation, we used a greedy heuristic to pick a single negative dictionary consisting of all those elements of S(X) that individually improve the F-measure.",
        "For instance, in Example 2, if the independent substitution of R5l with",
        "\\w*\\s*, and (?",
        "!Chapter)[A-Z]\\w*\\s* each improves the F-measure, we produce a negative dictionary consisting of ENGLISH, Room, and Chapter.",
        "This is precisely how the disjunct ENGLISH|Room|Chapter is constructed in R5lb.",
        "Procedure ReLiE(Mtr ,Mvai,Ro ,T)",
        "// Mtr : set of labeled matches used as training data // Mvai : set of labeled matches used as validation data // Ro : user-provided regular expression // T : set of transformations"
      ]
    },
    {
      "heading": "3.. for each transformation t i € T",
      "text": []
    },
    {
      "heading": "4.. Candidate i =ApplyTransformations (R new , t i)",
      "text": []
    },
    {
      "heading": "5.. let Candidates = (J i Candidate i",
      "text": [
        "6. let R' = argmaXRgCandidates F(R> -Mtr)"
      ]
    },
    {
      "heading": "10.. } while(true) end",
      "text": []
    },
    {
      "heading": "4. ReLIE Search Algorithm",
      "text": [
        "Figure 2 describes the ReLIE algorithm for the Regex Learning Problem (Definition 3) based on the transformations described in Section 3.",
        "ReLIE is a greedy hill climbing search procedure that chooses, at every iteration, the regex with the highest F-measure.",
        "An iteration in ReLIE consists of:",
        "• Applying every transformation on the current regex Rnew to obtain a set of candidate regexes",
        "• From the candidates, choosing the regex R' whose F-measure over the training dataset is maximum",
        "To avoid overfitting, ReLIE terminates when either of the following conditions is true: (i) there is no improvement in F-measure over the training set; (ii) there is a drop in F-measure when applying R'on the validation set.",
        "The following proposition provides an upper bound for the running time of the ReLIE algorithm.",
        "Proposition 2.",
        "Given any valid set of inputs Mtr, Mvai, R0, and T, the ReLIE algorithm terminates in at most | Mn(R0, Mtr )| iterations.",
        "The running time of the algorithm Trotai(Ro, Mtr, Mvai) < | Mn(Ro, Mtr)| * t0, where t0 is the time taken for the first iteration of the algorithm.",
        "Proof.",
        "With reference to Figure 2, in each iteration, the F-measure of the \"best\" regex R' is strictly better than Rnew.",
        "Since L(R') ç L(Rnew), R' eliminates at least one additional negative match compared to Rnew.",
        "Hence, the maximum number of iterations is | Mn ( Ro, M tr ) |.",
        "For a regular expression R, let ncc(R) and nq(R) denote, respectively, the number of character classes and quantifiers in R. The maximum number of possible subexpressions in R is |R|, where |R| is the length of R. Let MaxQ(R) denote the maximum number of ways in which a single quantifier appearing in R can be restricted < to a smaller range.",
        "Let Fcc denote the maximum fanoutof the character class hierarchy.",
        "Let TReEval (D) denote the average time taken to evaluate a regex over dataset D.",
        "Let R denote the regex at the beginning of iteration i.",
        "The number of candidate regexes obtained by applying ' the three transformations is",
        "The time taken to enumerate the character class and quantifier restriction transformations is proportional to the resulting number of candidate regexes.",
        "The time taken for the negative dictionaries transformation is given by the running time of the greedy heuristic (Section 3).",
        "The total time taken to enumerate all candidate regexes is given by (for some constant c)",
        "Choosing the best transformation involves evaluating each candidate regex over the training and validation corpus and the time taken for this step is",
        "TpickBest(Ri, Mtr , Mvai) = NumRE(Ri, Mtr ) *(TReEval(Mtr ) + TReEval(Mval))",
        "The total time taken for an iteration can be written as",
        "+ TpickBest(Ri, Mtr , Mval)",
        "It can be shown that the time taken in each iteration decreases monotonically (details omitted in the interestof space).",
        "Therefore, the total running time of the algorithm is given by",
        "TTotal(Ro , Mtr , Mvai ) = J2 Ti (Ri, Mtr, Mval) < | Mn(Ro , Mtr) * to .",
        "where t0 = T/ (Ro, Mtr, Mval ) is the running time of the first iteration of the algorithm.",
        "□"
      ]
    },
    {
      "heading": "5. Experiments",
      "text": [
        "In this section, we present an empirical study of the ReLIE algorithm using four extraction tasks over three real-life data sets.",
        "The goal of this study is to evaluate the effectiveness of ReLIE in learning complex regexes and to investigate how it compares with standard machine learning algorithms.",
        "Data Set The datasets used in our experiments are:",
        "» AWeb: A set of 50,000 web pages obtained from the publicly available University of Michigan Web page collection (Li et al., 2006), including a subcollection of 10,000 pages (AWeb-S).",
        "» Email: A collection of 10,000 emails obtained from the publicly available Enron email collection (Minkov et al., 2005).",
        "Extraction Tasks SoftwareNameTask, CourseNum-berTask and PhoneNumberTask were evaluated on EWeb, AWeb and Email, respectively.",
        "Since web pages have large number of URLs, to keep the labeling task manageable, URLTask was evaluated on AWeb-S.",
        "Gold Standard For each task, the gold standard was created by manually labeling all matches for the initial regex.",
        "Note that only exact matches with the gold standard are considered correct in our evaluations.",
        "Comparison Study To evaluate ReLIE for entity extraction vis-a-vis existing algorithms, we used the popular conditional random field (CRF).",
        "Specifically, we used the MinorThird (Cohen, 2004) implementation of CRF to train models for all four extraction tasks.",
        "For training the CRF we provided it with the set of positive and negative matches from the initial regex with a context of 200 characters on either side of each match.",
        "Since it is unlikely that useful features are located far away from the entity, we believe that 200 characters on either side is sufficient context.",
        "The CRF used the base features described in (Cohen et al., 2005).",
        "To ensure fair comparison with ReLIE, we also included the matches corresponding to the input regex as a feature to the CRF.",
        "In practice, more complex features (e.g., dictionaries, simple regexes) derived by domain experts are often provided to CRFs.",
        "However, such features can also be used to refine the initial regex given to ReLIE.",
        "Hence, with a view to investigating the \"raw\" learning capability of the two approaches, we chose to run all our experiments without any additional manually derived features.",
        "In fact, the patterns learned by ReLIE through transformations are often similar",
        "(a) SoftwareNameTask Percentage of Data Used for Training (b) CourseNumberTask (c) URLTask (d) PhoneNumberTask",
        "to the features that domain experts may provide to CRF.",
        "We will revisit this issue in Section 5.4.",
        "Evaluation We used the standard F-measure to evaluate the effectiveness of ReLIE and CRF.",
        "We divided each dataset into 10 equal parts and used X% for validation, and remaining (90-X)% for testing.",
        "All results are reported on the test set.",
        "Four extraction tasks were chosen to reflect the entities commonly present in the three datasets.",
        "• SoftwareNameTask: Extracting software names such as Lotus Notes 8.0, Open Office Suite 2007.",
        "• CourseNumberTask: Extracting university course numbers such as EECS 584, Pharm 101.",
        "• PhoneNumberTask: Extracting phone numbers such as 1-800-COMCAST, (425)123 5678.",
        "• URLTask: Extracting URLs such as http:\\\\www.abc.com and lsa.umich.edu/ foo/.",
        "This section summarizes the results of our empirical evaluation comparing ReLIE and CRF.",
        "Raw Extraction Quality The cross-validated results across all four tasks are presented in Figure 3.",
        "• With 10% training data, ReLIE outperforms CRF on three out of four tasks with a difference in F-measure ranging from 0.1 to 0.2.",
        "• As training data increases, both algorithms perform better with the gap between the two reducing for all the four tasks.",
        "For CourseNumberTask and URL-Task, CRF does slightly better than ReLIE for larger training dataset.",
        "For the other two tasks, ReLIE retains its advantage over CRF.",
        "The above results indicate that ReLIE performs comparably with CRF with a slight edge in conditions of limited training data.",
        "Indeed, the capability to learn high-quality extractors using a small training set is important because labeled data is often expensive to obtain.",
        "For precisely this same reason, we would ideally like to learn the extractors once and then apply them to other datasets as needed.",
        "Since these other datasets may be from a different domain, we next performed a cross-domain test (i.e., training Training Time Another issue of practical consideration is the efficiency of the learning algorithm.",
        "Table 2 reports the average training and testing time for both algorithms on the four tasks.",
        "On average ReLIE is an order ofmagnitude faster than CRF in both building the model and applying the learnt model.",
        "Robustness to Variations in Input Regexes The transformations done by ReLIE are based on the structure of the input regex.",
        "Therefore given different input regexes, the final regexes learned by ReLIE will be different.",
        "To evaluate the impact of the structure of the input regex on the quality of the regex learned by ReLIE, we started with different regexesfor the same task.",
        "We found that ReLIE is robust to variations in input regexes.",
        "For instance, on Soft-wareNameTask, the standard deviation in F-measure",
        "2006).",
        "Mp(Ro, D) =Mp(R0, D) and Mn(Ro, D) = Mn(R0, D).",
        "of the final regexes generated from six different input regexes was less than 0.05.",
        "Further details of this experiment are omitted in the interest of space.",
        "The results of our comparison study (Figure 3) indicates that for raw extraction quality ReLIE has a slight edge over CRF for small training data.",
        "However, in cross-domain performance (Table 1) ReLIE is significantly better than CRF (by 0.41 on average) .",
        "To understand this discrepancy, we examined the final regex learned by ReLIE and compared that with the features learned by CRF.",
        "Examples of initial regexes with corresponding final regexes learnt by ReLIE with 10% training data are listed in Table 4.",
        "Recall, from Section 3, that ReLIE transformations include character class restrictions, quantifier restrictions and addition of negative dictionaries.",
        "For instance, in the SoftwareNameTask, the final regex listed was obtained by restricting [a-zA-z] to [a-z], \\w to [a-zA-z], and adding the negative dictionary (Copyright|Fall| • • • |lssue) .",
        "Similarly, for the PhoneNumberTask, the final regex involved two negative dictionaries (expressed as (?!",
        "[,]) and (?!",
        "[,:])) and quantifier restrictions (e.g. the first [A-z\\d]{2,4} was transformed and testing on different domains).",
        "Cross-domain Evaluation Table 1 summarizes the results of training the algorithms on one data set and testing on another.",
        "The scenarios chosen are: (i) SoftwareNameTask trained on EWeb and tested on AWeb, (ii) URLTask trained on AWeb and tested on Email, and (iii) Pho-neNumberTask trained on Email and tested on AWeb.",
        "We can see that ReLIE significantly outperforms CRF for all three tasks, even when provided with a large training dataset.",
        "Compared to test ing on the same dataset, there is a reduction in F-measure (less than 0.1 in many cases) when the regex learned by ReLIE is applied to a different dataset, while the drop for CRF is much more significant (over 0.5 in many cases).",
        " – – „„^^ Data for Training Task(Training, Testing) – – – „„.^^",
        "10%",
        "40%",
        "80%",
        "ReLIE",
        "CRF",
        "ReLIE",
        "CRF",
        "ReLIE",
        "CRF",
        "SoftwareNameTask(EWeb,AWeb)",
        "0.920",
        "0.297",
        "0.977",
        "0.503",
        "0.971",
        "N/A",
        "URLTask(AWeb-S,Email)",
        "0.690",
        "0.209",
        "0.784",
        "0.380",
        "0.801",
        "0.507",
        "PhoneNumberTask(Email ,AWeb)",
        "0.357",
        "0.130",
        "0.475",
        "0.125",
        "0.513",
        "0.120",
        "Technique",
        "SoftwareNameTask",
        "CourseNumberTask",
        "URLTask",
        "PhoneNumberTask",
        "training",
        "testing",
        "training",
        "testing",
        "training",
        "testing",
        "training",
        "testing",
        "ReLIE",
        "511.7",
        "20.6",
        "69.3",
        "18.4",
        "73.8",
        "7.7",
        "39.4",
        "1.1",
        "CRF",
        "7597.0",
        "2315.8",
        "482.5",
        "75.4",
        "438.7",
        "53.8",
        "434.8",
        "57.7",
        "t (ReLIE) t(CRF)",
        "0.067",
        "0.009",
        "0.144",
        "0.244",
        "0.168",
        "0.143",
        "0.091",
        "0.019",
        " – – ^^^^ Data for Training Task(Extra Feature) – – ^^^^",
        "10%",
        "40%",
        "80%",
        "CRF",
        "C+RL",
        "CRF",
        "C+RL",
        "CRF",
        "C+RL",
        "CourseNumberTask(Negative Dictionary)\"\"",
        "0.553",
        "0.624",
        "0.644",
        "0.764",
        "0.854",
        "0.845",
        "PhoneNumberTask(Quantifier)",
        "0.695",
        "0.893",
        "0.820",
        "0.937",
        "0.821",
        "0.964",
        "Table 4: Sample Regular Expressions Learned by ReLIE(Ro: input regex; RftnaV- final regex learned; the parts of Ro modified by ReLIE and the corresponding parts in R/ina; are highlighted.)",
        "into [A-Z\\d] {3,3}).",
        "After examining the features learnt by CRF, it was clear that while CRF could learn features such as the negative dictionary it is unable to learn character-level features.",
        "This should not be surprising since our CRF was trained with primarily tokens as features (cf.",
        "Section 5.1).",
        "While this limitation was less of a factor in experiments involving data from the same domain (some effects were seen with smaller training data), it does explain the significant difference between the two algorithms in cross-domain tasks where the vocabulary can be significantly different.",
        "Indeed, in practical usage of CRF, the main challenge is to come up with additional complex features (often in the form of dictionary and regex patterns) that need to be given to the CRF (Minkov et al., 2005).",
        "Such complex features are largely handcrafted and thus expensive to obtain.",
        "Since the ReLIE transformations are operations over characters, a natural question to ask is: \"Can the regex learned by ReLIE be used to provide features to CRF?\"",
        "We answer this question below.",
        "To understand the effect of incorporating ReLIE-identified features into CRF, we chose the two tasks (CourseNumberTask and PhoneNumberTask) with the least F-measure in our experiments to determine raw extraction quality.",
        "We examined the final regex produced by ReLIE and manually extracted portions to serve as features.",
        "For example, the negative dictionary learned by ReLIE for the CourseNumberTask (At|Between| • • • |voiume) was incorporated as a feature into CRF.",
        "To help isolate the effects, for each task, we only incorporated features corresponding to a single transformation: negative dictionaries for CourseNumberTask and quantifier restrictions for PhoneNumberTask.",
        "The results of these experiments are shown in Table 3.",
        "The first point worthy of note is that performance has improved in all but one case.",
        "Second, despite the F-measure on CourseNum-berTask being lower than PhoneNumberTask (presumably more potential for improvement), the improvements on PhoneNumberTask are significantly higher.",
        "This observation is consistent with our conjecture in Section 5.1 that CRF learns token-level features; therefore incorporating negative dictionaries as extra feature provides only limited improvement.",
        "Admittedly more experiments are needed to understand the full impact of incorporating ReLIE-identified features into CRF.",
        "However, we do believe that this is an exciting direction of future research."
      ]
    },
    {
      "heading": "6. Summary and Future Work",
      "text": [
        "We proposed a novel formulation of the problem of learning complex character-level regexes for entity extraction tasks.",
        "We introduced the concept of regex transformations and described how these could be realized using the syntactic constructs of modern regex languages.",
        "We presented ReLIE, a powerful regex learning algorithm that exploits these ideas.",
        "Our experiments demonstrate that ReLIE is very effective for certain classes of entity extraction, particularly under conditions of cross-domain and limited training data.",
        "Our preliminary results also indicate the possibility of using ReLIE as a powerful feature extractor for CRF and other machine learning algorithms.",
        "Further investigation of this aspect of ReLIE presents an interesting avenue of future work."
      ]
    },
    {
      "heading": "Acknowledgments",
      "text": [
        "We thank the anonymous reviewers for their insightful and constructive comments and suggestions.",
        "We are also grateful for comments from David Gondek and Sebastian Blohm.",
        "SoftwareNameTask",
        "Ro",
        "\\b( [A-Z][a-zA-Z] {1,10}\\s) {l,5}\\s* (\\w{0,2}\\d[\\.]?)",
        "{l,4}\\b",
        "Rfinal",
        "\\b( (?!",
        "(Copyright|Page|Physics|Question| • • • |Article|lssue))[A-Z][a-z] {1,10}",
        "\\s) {l,5}\\s* ( [a-zA-Z] {0,2}\\d[\\.]?)",
        "{l,4}\\b",
        "PhoneNumberTask",
        "\\b(l\\W+)?\\W?\\d{3,3}\\W*\\s*\\W?",
        "[A-Z\\d] {2,4}\\s*\\W?",
        "[A-Z\\d] {2,4}\\b",
        "Rfinal",
        "\\b(l\\w+)?\\w?\\d{3,3} ((?!",
        "[,]) \\W*) \\s*\\w?",
        "[A-z\\d] {3,3}\\s* ((?!",
        "[,:]) \\W?)",
        "[A-Z\\d] {3,4}\\b",
        "CourseNumberTask",
        "\\b ([A-Z][a-zA-Z]+) \\s + \\d{3,3}\\b",
        "Rfinal",
        "\\b (((?!",
        "(At|Between| • • • Contact|Some|Suite|Volume))[A-Z][a-zA-Z]+)) \\s+\\d{3,3}\\b",
        "URLTask",
        "Ro",
        "\\b(\\w+://)?(\\w+\\.",
        "){0,2}\\w+\\.\\w+(/[A\\s]+){0,20}\\b",
        "Rfinal",
        "\\b((?!",
        "(Response_20010702-1607.csv|- ))((\\w+://)?(\\w+\\.)",
        "{0,2}\\w+\\ .(?!",
        "(ppt doc))[a-zA-Z]{2,3})) (/[ A\\s]+) {0,20}\\b"
      ]
    }
  ]
}

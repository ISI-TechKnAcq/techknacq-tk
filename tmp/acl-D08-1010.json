{
  "info": {
    "authors": [
      "Qun Liu",
      "Zhongjun He",
      "Yang Liu",
      "Shouxun Lin"
    ],
    "book": "Conference on Empirical Methods in Natural Language Processing",
    "id": "acl-D08-1010",
    "title": "Maximum Entropy based Rule Selection Model for Syntax-based Statistical Machine Translation",
    "url": "https://aclweb.org/anthology/D08-1010",
    "year": 2008
  },
  "references": [
    "acl-D07-1007",
    "acl-N03-1017",
    "acl-N04-1033",
    "acl-P00-1056",
    "acl-P02-1038",
    "acl-P02-1040",
    "acl-P03-1021",
    "acl-P05-1033",
    "acl-P05-1066",
    "acl-P06-1077",
    "acl-P06-1121",
    "acl-P07-1005",
    "acl-P96-1041",
    "acl-W06-3601"
  ],
  "sections": [
    {
      "text": [
        "Qun Liu and Zhongjun He and Yang Liu and Shouxun Lin",
        "Key Laboratory of Intelligent Information Processing Institute of Computing Technology, Chinese Academy of Sciences Beijing, 100190, China Graduate University of Chinese Academy of Sciences Beijing, 100049, China {liuqun,zjhe,yliu,sxlin}@ict.ac.cn",
        "This paper proposes a novel maximum entropy based rule selection (MERS) model for syntax-based statistical machine translation (SMT).",
        "The MERS model combines local contextual information around rules and information of sub-trees covered by variables in rules.",
        "Therefore, our model allows the decoder to perform context-dependent rule selection during decoding.",
        "We incorporate the MERS model into a state-of-the-art linguistically syntax-based SMT model, the tree-to-string alignment template model.",
        "Experiments show that our approach achieves significant improvements over the baseline system."
      ]
    },
    {
      "heading": "1. Introduction",
      "text": [
        "Syntax-based statistical machine translation (SMT) models (Liu et al., 2006; Galley et al., 2006; Huang et al., 2006) capture long distance reorderings by using rules with structural and linguistical information as translation knowledge.",
        "Typically, a translation rule consists of a source-side and a target-side.",
        "However, the source-side of a rule usually corresponds to multiple target-sides in multiple rules.",
        "Therefore, during decoding, the decoder should select a correct target-side for a source-side.",
        "We call this rule selection.",
        "Rule selection is of great importance to syntax-based SMT systems.",
        "Comparing with word selection in word-based SMT and phrase selection in phrase-based SMT, rule selection is more generic and important.",
        "This is because that a rule not only contains terminals (words or phrases), but also con-",
        "DNP NPB NP DEG NN NN",
        "Xm ¥) XH zMF-",
        "XH X^ levels",
        "tains nonterminals and structural information.",
        "Terminals indicate lexical translations, while nonterminals and structural information can capture short or long distance reorderings.",
        "See rules in Figure 1 for illustration.",
        "These two rules share the same syntactic tree on the source side.",
        "However, on the target side, either the translations for terminals or the phrase re-orderings for nonterminals are quite different.",
        "During decoding, when a rule is selected and applied to a source text, both lexical translations (for terminals) and reorderings (for nonterminals) are determined.",
        "Therefore, rule selection affects both lexical translation and phrase reordering.",
        "However, most of the current syntax-based systems ignore contextual information when they selecting rules during decoding, especially the information of sub-trees covered by nonterminals.",
        "For example, the information of Xq-j and is not recorded when the rules in Figure 1 extracted from the training examples in Figure 2.",
        "This makes the decoder hardly distinguish the two rules.",
        "Intuitively, information of sub-trees covered by nonterminals as well as contextual information of rules are believed",
        "Proceedings of the 2008 Conference on Empirical Methods in Natural Language Processing, pages 89-97, Honolulu, October 2008.",
        "©2008 Association for Computational Linguistics",
        "industrial products manufacturing levels overall standard of the match",
        "to be helpful for rule selection.",
        "Recent research showed that contextual information can help perform word or phrase selection.",
        "Carpuat and Wu (2007b) and Chan et al.",
        "(2007) showed improvents by integrating word-sense-disambiguation (WSD) system into a phrase-based (Koehn, 2004) and a hierarchical phrase-based (Chiang, 2005) SMT system, respectively.",
        "Similar to WSD, Carpuat and Wu (2007a) used contextual information to solve the ambiguity problem for phrases.",
        "They integrated a phrase-sense-disambiguation (PSD) model into a phrase-based SMT system and achieved improvements.",
        "In this paper, we propose a novel solution for rule selection for syntax-based SMT.",
        "We use the maximum entropy approach to combine rich contextual information around a rule and the information of sub-trees covered by nonterminals in a rule.",
        "For each ambiguous source-side of translation rules, a maximum entropy based rule selection (MERS) model is built.",
        "Thus the MERS models can help the decoder to perform a context-dependent rule selection.",
        "Comparing with WSD (or PSD), there are some advantages of our approach:",
        "• Our approach resolves ambiguity for rules with multilevel syntactic structure, while WSD resolves ambiguity for strings that have no structures;",
        "• Our approach can help the decoder perform both lexical selection and phrase reorderings, while WSD can help the decoder only perform lexical selection;",
        "• Our method takes WSD as a special case, since a rule may only consists of terminals.",
        "In our previous work (He et al., 2008), we reported improvements by integrating a MERS model into a formally syntax-based SMT model, the hierarchical phrase-based model (Chiang, 2005).",
        "In this paper, we incorporate the MERS model into a state-of-the-art linguistically syntax-based SMT model, the tree-to-string alignment template (TAT) model (Liu et al., 2006).",
        "The basic differences are:",
        "• The MERS model here combines rich information of source syntactic tree as features since the translation model is linguistically syntax-based.",
        "He et al.",
        "(2008) did not use this information.",
        "• In this paper, we build MERS models for all ambiguous source-sides, including lexicalized (source-side which only contains terminals), partially lexicalized (source-side which contains both terminals and nonterminals), and un-lexicalized (source-side which only contains nonterminals).",
        "He et al.",
        "(2008) only built MERS models for partially lexicalized source-sides.",
        "In the TAT model, a TAT can be considered as a translation rule which describes correspondence between source syntactic tree and target string.",
        "TAT can capture linguistically motivated reorderings at short or long distance.",
        "Experiments show that by incorporating MERS model, the baseline system achieves statistically significant improvement.",
        "This paper is organized as follows: Section 2 reviews the TAT model; Section 3 introduces the MERS model and describes feature definitions; Section 4 demonstrates a method to incorporate the MERS model into the translation model; Section 5 reports and analyzes experimental results; Section 6 gives conclusions."
      ]
    },
    {
      "heading": "2. Baseline System",
      "text": [
        "Our baseline system is Lynx (Liu et al., 2006), which is a linguistically syntax-based SMT system.",
        "For translating a source sentence f J = fi...fj...fj, Lynx firstly employs a parser to produce a source syntactic tree T(fJ), and then uses the source syntactic tree as the input to search translations:",
        "In doing this, Lynx uses tree-to-string alignment template to build relationship between source syntactic tree and target string.",
        "A TAT is actually a translation rule: the source-side is a parser tree with leaves consisting of words and nonterminals, the target-side is a target string consisting of words and nonterminals.",
        "TAT can be learned from word-aligned, source-parsed parallel corpus.",
        "Figure 4 shows three types of TATs extracted from the training example in Figure 3: lexicalized (the left), partially lexicalized (the middle), unlexicalized (the right).",
        "Lexicalized TAT contains only terminals, which is similar to phrase-to-phrase translation in phrase-based model except that it is constrained by a syntactic tree on the source-side.",
        "Partially lexicalized TAT contains both terminals and non-terminals, which can be used for both lexical translation and phrase reordering.",
        "Un-lexicalized TAT contains only nonterminals and can only be used for phrase reordering.",
        "Lynx builds translation model in a log-linear framework (Och and Ney, 2002):",
        "Following features are used:",
        "• Translation probabilities: P(ee|Te) and P(Te|ee);",
        "• TAT penalty: exp(1), which is analogous to phrase penalty in phrase-based model;",
        "• Language model Pim(e{);",
        "• Word penalty I.",
        "In Lynx, rule selection mainly depends on translation probabilities and lexical weights.",
        "These four scores describe how well a source tree links to a target string, which are estimated on the training corpus according to occurrence times of ee and Te.",
        "There",
        "NN NPB NPB city and village incomes of XH resident X@ XH Xa",
        "are no features in Lynx that can capture contextual information during decoding, except for the n-gram language model which considers the left and right neighboring n-1 target words.",
        "But this information it very limited."
      ]
    },
    {
      "heading": "3. The Maximum Entropy based Rule Selection Model",
      "text": [
        "In this paper, we focus on using contextual information to help the TAT model perform context-dependent rule selection.",
        "We consider the rule selection task as a multi-class classification task: for a source syntactic tree T, each corresponding target string ee is a label.",
        "Thus during decoding, when a TAT (T, e') is selected, T is classified into label e', actually.",
        "A good way to solve the classification problem is the maximum entropy approach:",
        "where Te and ee are the source tree and target string of a TAT, respectively.",
        "hi is a binary feature functions and Ai is the feature weight of hi.",
        "C (T) defines local contextual information of Te.",
        "Xk is a nonterminal in the source tree Ie, where k is an index.",
        "T(Xk) is the source sub-tree covered by Xk.",
        "The advantage of the MERS model is that it uses rich contextual information to compute posterior probability for ee given Te.",
        "However, the translation probabilities and lexical weights in Lynx ignore these information.",
        "Note that for each ambiguous source tree, we build a MERS model.",
        "That means, if there are N source trees extracted from the training corpus are ambiguous (the source tree which corresponds to multiple translations), thus for each ambiguous source tree Ti (i = 1, ...,N), a MERS model Mi(i = 1,N) is built.",
        "Since a source tree may correspond to several hundreds of target translations at most, the feature space of a MERS model is not prohibitively large.",
        "Thus the complexity for training a MERS model is low.",
        "Let ( Te,ee) be a translation rule in the TAT model.",
        "We use f (Ie) to represent the source phrase covered by Ie.",
        "To build a MERS model for the source tree T, we explore various features listed below."
      ]
    },
    {
      "heading": "1.. Lexical Features (LF)",
      "text": [
        "These features are defined on source words.",
        "Specifically, there are two kinds of lexical features: external features f_ i and f+ i, which are the source words immediately to the left and right of f(Te), respectively; internal features fL(T(Xk)) and fR(T(Xk)), which are the left most and right most boundary words of the source phrase covered by T(Xk), respectively.",
        "See Figure 5 (a) for illustration.",
        "In this example, f_ i =tïgao, f+ i=zhizao, fL(T(Xi))=gongye, fR(T(Xi))=chanpïn.",
        "2.",
        "Parts-of-speech (POS) Features (POSF) These features are the POS tags of the source words defined in the lexical features: P_ i,",
        "NN NN de zhïzao",
        "X m :NP DEG I",
        "gongye chanpïn (a) Lexical Features gongye chanpïn",
        "(b) POS Features DNP",
        "X m :NP DEG (c) Span Feature (d) Parent Feature (e) Sibling Feature",
        "Figure5: Illustrationoffeatures oftheMERSmodel.",
        "The source tree of the TAT is ( DNP(NP Xm) (DEG de)).",
        "Gray nodes denote information included in the feature.",
        "spectively.",
        "POS tags can generalize over all training examples.",
        "Figure 5 (b) shows POS features.",
        "P_ =VV,",
        "P+ =NN, PL(T(X ))=NN, PR(T(X ))=NN."
      ]
    },
    {
      "heading": "3.. Span Features (SPF)",
      "text": [
        "These features are the length of the source phrase f (T (Xk )) covered by T (Xk ).",
        "In Liu's TAT model, the knowledge learned from a short span can be used for a larger span.",
        "This is not reliable.",
        "Thus we use span features to allow the MERS model to learn a preference for short or large span.",
        "In Figure 5 (c), the span of X^ is 2."
      ]
    },
    {
      "heading": "4.. Parent Feature (PF)",
      "text": [
        "The parent node of Te in the parser tree of the source sentence.",
        "The same source sub-tree may have different parent nodes in different training examples.",
        "Therefore, this feature may provide information for distinguishing source sub-trees.",
        "Figure 5 (d) shows that the parent is a NP node."
      ]
    },
    {
      "heading": "5.. Sibling Features (SBF)",
      "text": [
        "The siblings of the root of T. This feature considers neighboring nodes which share the same parent node.",
        "In Figure 5 (e), the source tree has one sibling node NPB.",
        "Those features make use of rich information around a rule, including the contextual information of a rule and the information of sub-trees covered by nonterminals.",
        "They are never used in Liu's TAT model.",
        "Figure 5 shows features for a partially lexicalized source tree.",
        "Furthermore, we also build MERS models for lexicalized and unlexicalized source trees.",
        "Note that for lexicalized tree, features do not include the information of sub-trees since there is no nonterminals.",
        "The features can be easily obtained by modifying the TAT extraction algorithm described in (Liu et al., 2006).",
        "When a TAT is extracted from a word-aligned, source-parsed parallel sentence, we just record the contextual features and the features of the sub-trees.",
        "Then we use the toolkit implemented by Zhang (2004) to train MERS models for the ambiguous source syntactic trees separately.",
        "We set the iteration number to 100 and Gaussian prior to 1."
      ]
    },
    {
      "heading": "4. Integrating the MERS Models into the Translation Model",
      "text": [
        "We integrate the MERS models into the TAT model during the translation of each source sentence.",
        "Thus the MERS models can help the decoder perform context-dependent rule selection during decoding.",
        "For integration, we add two new features into the log-linear translation model:",
        "• Prs(?|T, T(Xk)).",
        "This feature is computed by the MERS model according to equation (3), which gives a probability that the model selecting a target-side ee given an ambiguous source-side Te, considering rich contextual information.",
        "• Pap = exp(1).",
        "During decoding, if a source tree has multiple translations, this feature is set to exp(1), otherwise it is set to exp(0).",
        "Since the MERS models are only built for ambiguous source trees, the first feature Prs(ée|T, T(Xk)) for non-ambiguous source tree will be set to 1.0.",
        "Therefore, the decoder will prefer to use non-ambiguous TATs.",
        "However, non-ambiguous TATs usually occur only once in the training corpus, which are not reliable.",
        "Thus we use this feature to reward ambiguous TATs.",
        "The advantage of our integration is that we need not change the main decoding algorithm of Lynx.",
        "Furthermore, the weights of the new features can be trained together with other features of the translation model."
      ]
    },
    {
      "heading": "5. Experiments 5.1 Corpus",
      "text": [
        "We carry out experiments on Chinese-to-English translation.",
        "The training corpus is the FBIS corpus, which contains 239k sentence pairs with 6.9M Chinese words and 8.9M English words.",
        "For the language model, we use SRI Language Modeling Toolkit (Stolcke, 2002) with modified Kneser-Ney smoothing (Chen and Goodman, 1998) to train two tri-gram language models on the English portion of",
        "Table 2: Feature weights obtained by minimum error rate training on the development set.",
        "The first 8 features are used by Lynx.",
        "TP=TAT penalty, WP=word penalty, AP=ambiguous TAT penalty.",
        "Note that in fact, the positive weight for WP and AP indicate a reward.",
        "the training corpus and the Xinhua portion of the Gi-gaword corpus, respectively.",
        "NIST MT 2002 test set is used as the development set.",
        "NIST MT 2003 and",
        "NIST MT 2005 test sets are used as the test sets.",
        "The translation quality is evaluated by BLEU metric (Papineni et al., 2002), as calculated by mteval-v11b.pl with case-insensitive matching of n-grams, where n = 4.",
        "To train the translation model, we first run GIZA++ (Och and Ney, 2000) to obtain word alignment in both translation directions.",
        "Then the word alignment is refined by performing \"grow-diag-final\" method (Koehn et al., 2003).",
        "We use a Chinese parser developed by Deyi Xiong (Xiong et al., 2005) to parse the Chinese sentences of the training corpus.",
        "Our TAT extraction algorithm is similar to Liu et al.",
        "(2006), except that we make some tiny modifications to extract contextual features for MERS models.",
        "To extract TAT, we set the maximum height of the source sub-tree to h = 3, the maximum number of direct descendants of a node of sub-tree to c = 5.",
        "See (Liu et al., 2006) for specific definitions of these parameters.",
        "Table 1 shows statistical information of TATs which are filtered by the two test sets.",
        "For each type (lexicalized, partially lexicalized, unlexicalized) of TATs, a great portion of the source trees are ambiguous.",
        "The number of ambiguous source trees accounts for 78.34% of the total source trees.",
        "This indicates that the TAT model faces serious rule selection problem during decoding.",
        "We use Lynx as the baseline system.",
        "Then the MERS models are incorporated into Lynx, and the system is called Lynx+MERS.",
        "To run the decoder, Lynx and Lynx+MERS share the same settings: tatTable-limit=30, tatTable-threshold=0, stack-limit=100, stack-threshold=0.00001.",
        "The meanings of the pruning parameters are the same to",
        "Liu et al.",
        "(2006).",
        "We perform minimum error rate training (Och, 2003) to tune the feature weights for the log-linear model tomaximizethesystems's BLEUscoreonthe development set.",
        "The weights are shown in Table 2.",
        "These weights are then used to run Lynx and Lynx+MERS on the test sets.",
        "Table 3 shows the results.",
        "Lynx obtains BLEU scores of 26.15 on on NIST05.",
        "The absolute improvements is 0.90 and 1.19, respectively.",
        "Using the sign-test described by Collins et al.",
        "(2005), both improvements are statistically significant at p< 0.01.",
        "Moreover, Lynx+MERS also achieves higher n-gram precisions than Lynx.",
        "Type",
        "No.",
        "of TATs",
        "No.",
        "of source trees",
        "No.",
        "of ambiguous source trees",
        "% ambiguous",
        "Lexicalized",
        "333,077",
        "16,367",
        "14,380",
        "87.86",
        "Partially Lexicalized",
        "342,767",
        "38,497",
        "28,397",
        "73.76",
        "Unlexicalized",
        "83,024",
        "7,384",
        "5,991",
        "81.13",
        "Total",
        "758,868",
        "62,248",
        "48,768",
        "78.34",
        "System",
        "Features",
        "P (e|T)",
        "p (T|e)",
        "Pw (t|t)",
        "Pw (T|?)",
        "1m i",
        "lm-2",
        "TP",
        "WP",
        "P",
        "P rs",
        "AP",
        "Lynx",
        "0.210",
        "0.016",
        "0.081",
        "0.051",
        "0.171",
        "0.013",
        "-0.055",
        "0.403",
        "-",
        "-",
        "+MERS",
        "0.031",
        "0.008",
        "0.020",
        "0.080",
        "0.152",
        "0.014",
        "0.027",
        "0.270",
        "0.194",
        "0.207",
        "The baseline system only uses four features for rule selection: the translation probabilities P(e|T) and P(T|e); and the lexical weights Pw(e|T) and Pw(Tie).",
        "These features are estimated on the training corpus by the maximum likelihood approach, which does not allow the decoder to perform a context dependent rule selection.",
        "Although Lynx uses language model as feature, the n-gram language model only considers the left and right n-1 neighboring target words.",
        "The MERS models combines rich contextual information as features to help the decoder perform rule selection.",
        "Table 4 shows the effect of different feature sets.",
        "We test two classes of feature sets: the single feature (the top four rows of Table 4) and the combination of features (the bottom five rows of Table 4).",
        "For the single feature set, the POS tags are the most useful and stable features.",
        "Using this feature, Lynx+MERS achieves improvements on both the test sets.",
        "The reason is that POS tags can be generalized over all training examples, which can alleviate the data sparseness problem.",
        "Although we find that some single features may hurt the BLEU score, they are useful in combination of features.",
        "This is because one of the strengths of the maximum entropy model is that it can incorporate various features to perform classification.",
        "Therefore, using all features defined in Section 3.2, we obtain statistically significant improvements (the last row of Table 4).",
        "In order to know how the MERS models improve translation quality, we inspect the 1-best outputs of Lynx and Lynx+MERS.",
        "We find that the first way that the MERS models help the decoder is that they can perform better selection for words or phrases, similar to the effect of WSD or PSD.",
        "This is because that lexicalized and partially lexicalized TAT contains terminals.",
        "Considering the following examples:",
        "• Reference: Malta is located in southern Europe",
        "• Lynx: Malta in southern Europe",
        "• Lynx+MERS: Malta is located in southern Europe",
        "Here the Chinese word 'Mi -f\"\" is incorrectly translated into \"in\" by the baseline system.",
        "Lynx+MERS produces the correct translation \"is located in\".",
        "That is because, the MERS model considers more contextual information for rule selection.",
        "In the MERS model, Prs(in|ji-f ) = 0.09, which is smaller than Prs(is located in^i-^) = 0.14.",
        "Therefore, the MERS model prefers the translation \"is located in\".",
        "Note that here the source tree (VV \\sl^~) is lexicalized, and the role of the MERS model is actually the same as WSD.",
        "The second way that the MERS models help the decoder is that they can perform better phrase re-orderings.",
        "Considering the following examples:",
        "Test Set",
        "System",
        "BLEU-4",
        "Individual n-gram precisions",
        "1",
        "2",
        "3",
        "4",
        "NIST03",
        "Lynx",
        "26.15",
        "71.62",
        "35.64",
        "18.64",
        "9.82",
        "+MERS",
        "27.05",
        "72.00",
        "36.72",
        "19.51",
        "10.37",
        "NIST05",
        "Lynx",
        "26.09",
        "70.39",
        "35.12",
        "18.53",
        "10.11",
        "+MERS",
        "27.28",
        "71.16",
        "36.19",
        "19.62",
        "10.95",
        "Feature Sets",
        "NIST03",
        "NIST05",
        "LF",
        "26.12",
        "26.32",
        "POSF",
        "26.36",
        "26.21",
        "PF",
        "26.17",
        "25.90",
        "SBF",
        "26.47",
        "26.08",
        "LF+POSF",
        "26.61",
        "26.59",
        "LF+POSF+SPF",
        "26.70",
        "26.44",
        "LF+POSF+PF",
        "26.81",
        "26.56",
        "LF+POSF+SBF",
        "26.68",
        "26.89",
        "LF+POSF+SPF+PF+SBF",
        "27.05",
        "27.28",
        "• Reference: According to its [development strategy]2 [in the Chinese market]i ...",
        "• Lynx: Accordance with [the Chinese market] 1[development strategy]2 ...",
        "• Lynx+MERS: According to the [development strategy] 2 [in the Chinese market] 1",
        "The syntactic tree of the Chinese phrase ^ S] ¥) M^^.",
        "i^sg>\" is shown in Figure 6.",
        "However, there are two TATs which can be applied to the source tree, as shown in Figure 7.",
        "The baseline system selects the left TAT and produces a monotone translation of the subtrees \"Xi :PP\" and\"X2 :NPB\".",
        "However, Lynx+MERS uses the right TAT and performs correct phrase reordering by swapping the two source phrases.",
        "Here the source tree is partially lex-icalized, and both the contextual information and the information of sub-trees covered by nonterminals are considered by the MERS model."
      ]
    },
    {
      "heading": "6. Conclusion",
      "text": [
        "In this paper, we propose a maximum entropy based rule selection model for syntax-based SMT.",
        "We use two kinds information as features: the local-contextual information of a rule, the information of sub-trees matched by nonterminals in a rule.",
        "During decoding, these features allow the decoder to perform a context-dependent rule selection.",
        "However, this information is never used in most of the current syntax-based SMT models.",
        "The advantage of the MERS model is that it can help the decoder not only perform lexical selection, but also phrase reorderings.",
        "We demonstrate one way to incorporate the MERS models into a state-of-the-art linguistically syntax-based SMT model, the tree-to-string alignment model.",
        "Experiments show that by incorporating the MERS models, the baseline system achieves statistically significant improvements.",
        "We find that rich contextual information can improve translation quality for a syntax-based SMT system.",
        "In future, we will explore more sophisticated features for the MERS model.",
        "Moreover, we will test the performance of the MERS model on large scale corpus.",
        "in Chinese market of development strategy"
      ]
    },
    {
      "heading": "Acknowledgements",
      "text": [
        "We would like to thank Yajuan Lv for her valuable suggestions.",
        "This work was supported by the National Natural Science Foundation of China (NO.",
        "60573188 and 60736014), and the High Technology Research and Development Program of China (NO.",
        "2006AA010108)."
      ]
    }
  ]
}

{
  "info": {
    "authors": [
      "Andreas Maletti"
    ],
    "book": "ACL",
    "id": "acl-P10-1109",
    "title": "A Tree Transducer Model for Synchronous Tree-Adjoining Grammars",
    "url": "https://aclweb.org/anthology/P10-1109",
    "year": 2010
  },
  "references": [
    "acl-C90-3045",
    "acl-E06-1048",
    "acl-J08-3004",
    "acl-N04-1014",
    "acl-P05-1033",
    "acl-P08-1069",
    "acl-W05-1506",
    "acl-W07-0412",
    "acl-W09-3802"
  ],
  "sections": [
    {
      "text": [
        "Universität Rovira i Virgili Avinguda de Catalunya 25, 43002 Tarragona, Spain.",
        "andreas.maletti@urv.cat",
        "A characterization of the expressive power of synchronous tree-adjoining grammars (STAGs) in terms of tree transducers (or equivalently, synchronous tree substitution grammars) is developed.",
        "Essentially, a STAG corresponds to an extended tree transducer that uses explicit substitution in both the input and output.",
        "This characterization allows the easy integration of STAG into toolkits for extended tree transducers.",
        "Moreover, the applicability of the characterization to several representational and algorithmic problems is demonstrated."
      ]
    },
    {
      "heading": "1. Introduction",
      "text": [
        "Machine translation has seen a multitude of formal translation models.",
        "Here we focus on syntax-based (or tree-based) models.",
        "One of the oldest models is the synchronous context-free grammar (Aho and Ullman, 1972).",
        "It is clearly too weak as a syntax-based model, but found use in the string-based setting.",
        "Top-down tree transducers (Rounds, 1970; Thatcher, 1970) have been heavily investigated in the formal language community (Gecseg and Steinby, 1984; Gecseg and Steinby, 1997), but as argued by Shieber (2004) they are still too weak for syntax-based machine translation.",
        "Instead Shieber (2004) proposes synchronous tree substitution grammars (STSGs) and develops an equivalent bimorphism (Arnold and Dauchet, 1982) characterization.",
        "This characterization eventually led to the rediscovery of extended tree transducers (Graehl and Knight, 2004; Knight and Graehl, 2005; Graehl et al., 2008), which are essentially as powerful as STSG.",
        "They had been studied already by Arnold and Dauchet (1982) in the form of bimorphisms, but received little attention until rediscovered.",
        "Shieber (2007) claims that even STSGs might be too simple to capture naturally occuring translation phenomena.",
        "Instead Shieber (2007) suggests a yet more powerful mechanism, synchronous tree-adjoining grammars (STAGs) as introduced by Shieber and Schabes (1990), that can capture certain (mildly) context-sensitive features of natural language.",
        "In the tradition of Shieber (2004), a characterization of the power of STAGs in terms of bimorphims was developed by Shieber (2006).",
        "The bimorphisms used are rather unconventional because they consist of a regular tree language and two embedded tree transducers (instead of two tree homomorphisms).",
        "Such embedded tree transducers (Shieber, 2006) are particular macro tree transducers (Courcelle and Franchi-Zannettacci, 1982; Engelfriet and Vogler, 1985).",
        "In this contribution, we try to unify the picture even further.",
        "We will develop a tree transducer model that can simulate STAGs.",
        "It turns out that the adjunction operation of an STAG can be explained easily by explicit substitution.",
        "In this sense, the slogan that an STAG is an STSG with adjunction, which refers to the syntax, also translates to the semantics.",
        "We prove that any tree transformation computed by an STAG can also be computed by an STSG using explicit substitution.",
        "Thus, a simple evaluation procedure that performs the explicit substitution is all that is needed to simulate an STAG in a toolkit for STSGs or extended tree transducers like TIBURON by May and Knight (2006).",
        "We show that some standard algorithms on STAG can actually be run on the constructed STSG, which often is simpler and better understood.",
        "Further, it might be easier to develop new algorithms with the alternative characterization, which we demonstrate with a product construction for input restriction in the spirit of Neder-hof (2009).",
        "Finally, we also present a complete tree transducer model that is as powerful as STAG, which is an extension of the embedded tree transducers of Shieber (2006)."
      ]
    },
    {
      "heading": "2. Notation",
      "text": [
        "We quickly recall some central notions about trees, tree languages, and tree transformations.",
        "For a more in-depth discussion we refer to Gecseg and Steinby (1984) and Gecseg and Steinby (1997).",
        "A finite set S of labels is an alphabet.",
        "The set of all strings over that alphabet is S* where e denotes the empty string.",
        "To simplify the presentation, we assume an infinite set X = {xi,x2,... } of variables.",
        "Those variables are syntactic and represent only themselves.",
        "In particular, they are all different.",
        "For each k > 0, we let Xk = {xi,..., xk}.",
        "We can also form trees over the alphabet S. To allow some more flexibility, we will also allow leaves from a special set V. Formally, a S-tree over V is either:",
        "• a leaf labeled with an element of v G S U V, or",
        "• a node that is labeled with an element of S with k > 1 children such that each child is a S-tree over V itself.",
        "The set of all S-trees over V is denoted by Ts ( V).",
        "We just write Ts for Ts(0).",
        "The trees in Figure 1 are, for example, elements of Ta(Y) where",
        "A = {S, NP, VP, V, DT, N} Y = {saw, the} .",
        "We often present trees as terms.",
        "A leaf labeled v is simply written as v. The tree with a root node labeled a is written a(ti,tk ) where ti,... ,tkare the term representations of its k children.",
        "A tree language is any subset of Ts(V) for some alphabet S and set V. Given another alphabet A and a set Y, a tree transformation is a relation t ç Ts(V) x Ta(Y).",
        "In many of our examples we have V = 0 = Y.",
        "Occasionally, we also speak about the translation of a tree transformation t ç Ts x Ta.",
        "The translation of t is the relation {(yd(t), yd(u)) | (t,u) G t} where yd(t), the yield of t, is the sequence of leaf labels in a left-to-right tree traversal of t. The yield of the third tree in Figure 1 is \"the N saw the N\".",
        "Note that the translation is a relation t' ç S* x A*."
      ]
    },
    {
      "heading": "3. Substitution",
      "text": [
        "A standard operation on (labeled) trees is substitution, which replaces leaves with a specified label in one tree by another tree.",
        "We write t[u] a for (the",
        "NP NP VP saw DT N",
        "result of) the substitution that replaces all leaves labeled A in the tree t by the tree u.",
        "If t G Ts ( V) and u G Ta(Y), then t[u]A G TSuA(V U Y).",
        "We often use the variables of X = {xi, x2,... } as substitution points and write t[ui,..., uk] instead of G\" (t[ui]xi) ... )[ufc ]xk.",
        "An example substitution is shown in Figure 1.",
        "The figure also illustrates a common problem with substitution.",
        "Occasionally, it is not desirable to replace all leaves with a certain label by the same tree.",
        "In the depicted example, we might want to replace one 'NP' by a different tree, which cannot be achieved with substitution.",
        "Clearly, this problem is avoided if the source tree t contains only one leaf labeled A.",
        "We call a tree Aproper if it contains exactly one leaf with label A.The subset Cs(Xk) ç Ts(Xk) contains exactly those trees of Ts(Xk) that are x^-proper for every 1 < i < k. For example, the tree t of Figure 1 is 'saw'-proper, and the tree u of Figure 1 is 'the'-and 'N'-proper.",
        "In this contribution, we will also use substitution as an explicit operator.",
        "The tree t[u]np in Figure 1 only shows the result of the substitution.",
        "It cannot be infered from the tree alone, how it was obtained (if we do not know t and u).",
        "To make substitution explicit, we use the special binary symbols [ ]a where A is a label.",
        "Those symbols will always be used with exactly two children (i.e., as binary symbols).",
        "Since this property can easily be checked by all considered devices, we ignore trees that use those symbols in a non-binary manner.",
        "For every set S of labels, we let S = S U | A G S} be the extended set of labels containing also the substition symbols.",
        "The substitution of Figure 1 can then be expressed as the tree •[•]np(t, u).",
        "To obtain t[u]np (the rightmost tree in Figure 1), we have to evaluate [ ]NP(t, u).",
        "However, we want to replace only one leaf at a time.",
        "Consequently, we restrict the evaluation of • [•] A(t, u) such that it applies only to trees t whose evaluation is A-proper.",
        "To enforce this restriction, we introduce an error signal _L, which we assume not to occur in any set of labels.",
        "Let S be the set of labels.",
        "Then we define the function E : Ts – Ts U {_L} by",
        "rw+ ^E ftE[uE]A if tE is A-proper",
        "L otherwise for every k > 0, a G S, and t, ti,..., tk, u G T^.We generally discard all trees that contain the error signal L .",
        "Since the devices that we will study later can also check the required A-properness using their state behavior, we generally do not discuss trees with error symbols explicitly."
      ]
    },
    {
      "heading": "4. Extended tree transducer",
      "text": [
        "An extended tree transducer is a theoretical model that computes a tree transformation.",
        "Such transducers have been studied first by Arnold and Dauchet (1982) in a purely theoretic setting, but were later applied in, for example, machine translation (Knight and Graehl, 2005; Knight, 2007; Graehl et al., 2008; Graehl et al., 2009).",
        "Their popularity in machine translation is due to Shieber (2004), in which it is shown that extended tree transducers are essentially (up to a relabeling) as expressive as synchronous tree substitution grammars (STSG).",
        "We refer to Chiang (2006) for an introduction to synchronous devices.",
        "Let us recall the formal definition.",
        "An extended tree transducer (for short: XTT) is a system M = (Q, S, A, /, R) where• Q is a finite set of states,",
        "• S and A are alphabets of input and output symbols, respectively,",
        "• I Ç Q is a set of initial states, and",
        "• R is a finite set of rules of the form",
        "xi VP III",
        "I I the boy",
        "is (qs,S(xi, VP(x2,x3))) – (w,S'(x2,xi,x3)) where w = qnpqvqnp.",
        "where k > 0, l G Cs(Xk), and r G CA(Xk).",
        "Recall that any tree of Cs(Xk) contains each variable of Xk = {xi,..., xk} exactly once.",
        "In graphical representations of a rule we usually side, and• add the state Q as root node of the left-hand",
        "• add the states qi,..., qk on top of the nodes labeled xi,..., xk, respectively, in the right-hand side of the rule.",
        "Some example rules are displayed in Figure 2.",
        "The rules are applied in the expected way (as in a term-rewrite system).",
        "The only additional feature are the states of Q, which can be used to control the derivation.",
        "A sentential form is a tree that contains exclusively output symbols towards the root and remaining parts of the input headed by a state as leaves.",
        "A derivation step starting from £ then consists in",
        "• selecting a leaf of £ with remaining input symbols,",
        "• matching the state q and the left-hand side l of a rule (q, l) – (qi • • • qk, r) G R to the state and input tree stored in the leaf, thus matching input subtrees ti , .",
        ".",
        ".",
        ", tk to the variables xi , .",
        ".",
        ".",
        ", xk,",
        "• replacing all the variables xi , .",
        ".",
        ".",
        ", xk in the right-hand side r by the matched input subtrees qi (ti),..., qk(tk) headed by the corresponding state, respectively, and",
        "• replacing the selected leaf in £ by the tree constructed in the previous item.",
        "The process is illustrated in Figure 3.",
        "Formally, a sentential form of the XTT M is a tree of SF = Ta(Q(Te)) where",
        "Q(TE) = {q(t) | Q G Q,t G Ts} .",
        "• Z = C [r[qi (ti),...,Qk (tk )]].",
        "The tree transformation computed by M is the relation",
        "where =>* is the reflexive, transitive closure of =>.",
        "In other words, the tree t can be transformed into u if there exists an initial state Q such that we can derive u from Q(t) in several derivation steps.",
        "We refer to Arnold and Dauchet (1982), Graehl detailed exposition to XTT."
      ]
    },
    {
      "heading": "5. Synchronous tree-adjoining grammar",
      "text": [
        "XTT are a simple, natural model for tree transformations, however they are not suitably expressive for all applications in machine translation (Shieber, 2007).",
        "In particular, all tree transformations of XTT have a certain locality condition, which yields that the input tree and its corresponding translation cannot be separated by an unbounded distance.",
        "To overcome this problem and certain dependency problems, Shieber and Sch-abes (1990) and Shieber (2007) suggest a stronger model called synchronous tree-adjoining grammar (STAG), which in addition to the substitution operation of STSG (Chiang, 2005) also has an adjoining operation.",
        "Let us recall the model in some detail.",
        "A tree-adjoining grammar essentially is a regular tree grammar (Gecseg and Steinby, 1984; Gecseg and",
        "I I les bonbons",
        "derived tree auxiliary tree les N ADJ bonbons rouges adjunction",
        "Nesson et al.",
        "(2008).",
        "N* ADJ bonbons",
        "Steinby, 1997) enhanced with an adjunction operation.",
        "Roughly speaking, an adjunction replaces a node (not necessarily a leaf) by an auxiliary tree, which has exactly one distinguished foot node.",
        "The original children of the replaced node will become the children of the foot node after adjunction.",
        "Traditionally, the root label and the label of the foot node coincide in an auxiliary tree aside from a star index that marks the foot node.",
        "For example, if the root node of an auxiliary tree is labeled A, then the foot node is traditionally labeled A*.",
        "The star index is not reproduced once adjoined.",
        "Formally, the adjunction of the auxiliary tree u with root label A (and foot node label A*) into a tree t = C[A(ti,...,tk)] with C G Cs(Xi) and ti,...,tk G Ts is",
        "C[u[A(ti,...,tk)U] .",
        "Adjunction is illustrated in Figure 4.",
        "We note that adjunction can easily be expressed using explicit substitution.",
        "Essentially, only an additional node with the adjoined subtree is added.",
        "The result of the adjunction of Figure 4 using explicit substitution is displayed in Figure 5.",
        "To simplify the development, we will make some assumptions on all tree-adjoining grammars (and synchronous tree-adjoining grammars).",
        "A tree-adjoining grammar (TAG) is a finite set of initial trees and a finite set of auxiliary trees.",
        "Our auxiliary tree",
        "initial tree",
        "TAG do not use substitution, but only adjunction.",
        "A derivation is a chain of trees that starts with an initial tree and each derived tree is obtained from the previous one in the chain by adjunction of an auxiliary tree.",
        "As in Shieber (2006) we assume that all adjunctions are mandatory; i.e., if an auxiliary tree can be adjoined, then we need to make an adjunction.",
        "Thus, a derivation starting from an initial tree to a derived tree is complete if no adjunction is possible in the derived tree.",
        "Moreover, we assume that to each node only one adjunction can be applied.",
        "This is easily achieved by labeling the root of each adjoined auxiliary tree by a special marker.",
        "Traditionally, the root label A of an auxiliary tree is replaced by A0 once adjoined.",
        "Since we assume that there are no auxiliary trees with such a root label, no further adjunction is possible at such nodes.",
        "Another effect of this restriction is that the number of operable nodes (i.e., the nodes to which an adjunction must still be applied) is known at any given time.",
        "A full TAG with our restrictions is shown in Figure 6.",
        "Intuitively, a synchronous tree-adjoining grammar (STAG) is essentially a pair of TAGs.",
        "The synchronization is achieved by pairing the initial trees and the auxiliary trees.",
        "In addition, for each such pair (t, u) of trees, there exists a bijection between the operable nodes of t and u.",
        "Such nodes in bijection are linked and the links are preserved in derivations, in which we now use pairs of trees as sentential forms.",
        "In graphical representations we often indicate this bijection with integers; i.e., two nodes marked with the same integer are linked.",
        "A pair of auxiliary trees is then adjoined to linked nodes (one in each tree of the sentential form) in the expected manner.",
        "We will avoid a formal definition here, but rather present an example STAG and a derivation with it in Figures 7 and 8.",
        "For a",
        "Figure 7: STAG that computes the translation {(wcwR,wcw) | w G {a, b}*} where wR is the reverse of w.",
        "STAG G we write tg for the tree transformation computed by G."
      ]
    },
    {
      "heading": "6. Main result",
      "text": [
        "In this section, we will present our main result.",
        "Essentially, it states that a STAG is as powerful as a STSG using explicit substitution.",
        "Thus, for every tree transformation computed by a STAG, there is an extended tree transducer that computes a representation of the tree transformation using explicit substitution.",
        "The converse is also true.",
        "For every extended tree transducer M that uses explicit substitution, we can construct a STAG that computes the tree transformation represented by tm up to a relabeling (a mapping that consistently replaces node labels throughout the tree).",
        "The additional relabeling is required because STAGs do not have states.",
        "If we replace the extended tree transducer by a STSG, then the result holds even without the relabeling.",
        "Theorem 1 For every STAG G, there exists an extended tree transducer M such that Conversely, for every extended tree transducer M, there exists a STAG G such that the above relation holds up to a relabeling.",
        "The following proof sketch is intended for readers that are familiar with the literature on embedded tree transducers, macro tree transducers, and bi-morphisms.",
        "It can safely be skipped because we will illustrate the relevant construction on our example after the proof sketch, which contains the outline for the correctness.",
        "Let t ç Ts x Ta be a tree transformation computed by a STAG.",
        "By Shieber (2006) there exists a regular tree language L Ç Tr and two functions ei : Tr – Ts and e2 : Tr – Ta such that t = {(ei(t), e2(t)) | t G L}.",
        "Moreover, ei and e2 can be computed by embedded tree transducers (Shieber, 2006), which are particular 1 -state, deterministic, total, 1-parameter, linear, and nondeleting macro tree transducers (Courcelle and Franchi-Zannettacci, 1982; Engelfriet and Vogler, 1985).",
        "In fact, the converse is also true up to a relabeling, which is also shown in Shieber (2006).",
        "The outer part of Figure 9 illustrates these relations.",
        "Finally, we remark that all involved constructions are effective.",
        "Using a result of Engelfriet and Vogler (1985), each embedded tree transducer can be decomposed into a top-down tree transducer (Gecseg and Steinby, 1984; Gecseg and Steinby, 1997) and a yield-mapping.",
        "In our particular case, the top-down tree transducers are linear and nondelet-ing homomorphisms hi and h2.",
        "Linearity and nondeletion are inherited from the corresponding properties of the macro tree transducer.",
        "The properties '1-state', 'deterministic', and 'total' of the macro tree transducer ensure that the obtained top-down tree transducer is also 1-state, deterministic, and total, which means that it is a homomorphism.",
        "Finally, the 1-parameter property yields that the used substitution symbols are binary (as our substitution symbols [ Consequently, the yield-mapping actually coincides with our evaluation.",
        "Again, this decomposition actually is a characterization of embedded tree transducers.",
        "Now the set {(hi(t), h2(t)) | t G L} can be computed of Shieber (2004) and Maletti (2008).",
        "More precisely, every extended tree transducer computes such a set, so that also this step is a characterization.",
        "Thus we obtain that t is an evaluation of a tree transformation computed by an extended tree transducer, and moreover, for each extended tree transducer, the evaluation can be computed (up to a relabeling) by a STAG.",
        "The overall proof structure is illustrated in Figure 9.",
        "Let us illustrate one direction (the construction of the extended tree transducer) on our example STAG of Figure 7.",
        "Essentially, we just prepare all operable nodes by inserting an explicit substitution just on top of them.",
        "The first subtree of that substitution will either be a variable (in the left-hand side of a rule) or a variable headed by a state (in the right-hand side of a rule).",
        "The numbers of the variables encode the links of the STAG.",
        "Two example rules obtained from the STAG of Figure 7 are presented in Figure 10.",
        "Using all XTT rules constructed for the STAG of Figure 7, we present a complete derivation of the XTT in Figure 11 that (up to the final step) matches the derivation of the STAG in Figure 8.",
        "The matching is achieved by the evaluation E introduced in Section 3 (i.e., applying the evaluation to the derived trees of Figure 11 yields the corresponding derived trees of Figure 8.",
        "S",
        "S",
        "S",
        "S",
        "S",
        "S",
        "A",
        "S",
        "S",
        "Si",
        "Si",
        "s",
        "/\\",
        "s",
        "/\\",
        "S",
        "Si",
        "b Si",
        "1",
        "1",
        "/l\\",
        "/\\",
        "/l\\",
        "/\\",
        "/l\\",
        "T",
        "T",
        "S",
        "S",
        "bSb",
        "Sb",
        "S",
        "c",
        "c",
        "1",
        "1",
        "/l\\",
        "/\\",
        "/l\\",
        "T",
        "T",
        "S",
        "S",
        "bSb",
        "c",
        "c",
        "1",
        "1",
        "/[\\",
        "T",
        "T",
        "S",
        "c",
        "c",
        "T 1"
      ]
    },
    {
      "heading": "7. Applications",
      "text": [
        "In this section, we will discuss a few applications of our main result.",
        "Those range from representational issues to algorithmic problems.",
        "Finally, we also present a tree transducer model that includes explicit substitution.",
        "Such a model might help to address algorithmic problems because derivation and evaluation are intertwined in the model and not separate as in our main result.",
        "Obviously, our characterization can be applied in a toolkit for extended tree transducers (or STSG) such as TIBURON by May and Knight (2006) to simulate STAG.",
        "The existing infrastructure (input-output, derivation mechanism, etc) for extended tree transducers can be reused to run XTTs encoding STAGs.",
        "The only additional overhead is the implementation of the evaluation, which is a straightforward recursive function (as defined in Section 3).",
        "After that any STAG can be simulated in the existing framework, which allows experiments with STAG and an evaluation of their expressive power without the need to develop a new toolkit.",
        "It should be remarked that some essential algorithms that are very sensitive to the input and output behavior (such as parsing) cannot be simulated by the corresponding algorithms for STSG.",
        "It remains an open problem whether the close relationship can also be exploited for such algorithms.",
        "We already mentioned in the previous section that some algorithms do not easily translate from",
        "STAG to STSG (or vice versa) with the help of our characterization.",
        "However, many standard algorithms for STAG can easily be derived from the corresponding algorithms for STSG.",
        "The simplest example is the union of two STAG.",
        "Instead of taking the union of two STAG using the classical construction, we can take the union of the corresponding XTT (or STSG) that simulate the STAGs.",
        "Their union will simulate the union of the STAGs.",
        "Such properties are especially valuable when we simulate STAG in toolkits for XTT.",
        "A second standard algorithm that easily translates is the algorithm computing the n-best derivations (Huang and Chiang, 2005).",
        "Clearly, the n-best derivation algorithm does not consider a particular input or output tree.",
        "Since the derivations of the XTT match the derivations of the STAG (in the former the input and output are encoded using explicit substitution), the n-best derivations will coincide.",
        "If we are additionally interested in the input and output trees for those n-best derivations, then we can simply evaluate the coded input and output trees returned by n-best derivation algorithm.",
        "Finally, let us consider an algorithm that can be obtained for STAG by developing it for XTT using explicit substitution.",
        "We will develop a BAR-HILLEL (Bar-Hillel et al., 1964) construction for STAG.",
        "Thus, given a STAG G and a recognizable tree language L, we want to construct a STAG G such that",
        "tQ> = {(t,u) | (t,u) g rG,t g L} .",
        "In other words, we take the tree transformation tgbut additionally require the input tree to be in L. Consequently, this operation is also called input restriction.",
        "Since STAG are symmetric, the corresponding output restriction can be obtained in the same manner.",
        "Note that a classical BAR-HILLEL construction restricting to a regular set of yields can be obtained easily as a particular input restriction.",
        "As in Nederhof (2009) a change of model is beneficial for the development of such an algorithm, so we will develop an input restriction for XTT using explicit substitution.",
        "Let M = (Q, E, A, I, R) be an XTT (using explicit substitution) and G = (N, E,I',P) be a tree substitution grammar (regular tree grammar) in normal form that recognizes L (i.e., L(G) = L).",
        "Let S = {A G E | g E}.",
        "A context is a mapping c : S – > N, which remembers a nonterminal of G for each substitution point.",
        "Given a rule (q, l) – (qi ■ ■ ■ qk, r) G R, a nonterminal p G N, and a context c G S, we construct new rules corresponding to successful parses of l subject to the following restrictions:",
        "• If l = A* with A G E, then p = c(A).",
        "• Finally, if l = ..., 1k) for some a G E, then select p – a(pi,..., pk) G P is a production of G and we parse with nonterminal and context c for each 1 < i < k.",
        "So far, we have specified a tree transducer model that requires some additional parsing before it can be applied.",
        "This parsing step has to annotate (and correspondingly restructure) the input tree by the adjunction points.",
        "This is best illustrated by the left tree in the last pair of trees in Figure 8.",
        "To run our constructed XTT on the trivially completed version of this input tree, it has to be transformed into the first tree of Figure 11, where the adjunctions are now visible.",
        "In fact, a second un-parsing step is required to evaluate the output.",
        "To avoid the first additional parsing step, we will now modify our tree transducer model such that this parsing step is part of its semantics.",
        "This shows that it can also be done locally (instead of globally parsing the whole input tree).",
        "In addition, we arrive at a tree transducer model that exactly (up to a relabeling) matches the power of STAG, which can be useful for certain constructions.",
        "It is known that an embedded tree transducer (Shieber, 2006) can handle the mentioned un-parsing step.",
        "An extended embedded tree transducer with",
        "V is the same as c except that it maps A to p.",
        "substitution M = (Q, E, A, I, R) is simply an embedded tree transducer with extended left-hand sides (i.e., any number of input symbols is allowed in the left-hand side) that uses the special symbols ■[ ■ 1 a in the input.",
        "Formally, let",
        "• Q = Qo U Qi be finite where Qo and Qiare the set of states that do not and do have a context parameter, respectively,",
        "• E and A be ranked alphabets such that if ■[ ■ 1 A G E,then A, A* G E,",
        "• Q(U) be suchthat",
        "• R is a finite set of rules l – r such that there exists k > 0 with l G Q({y})(Cs(Xfc)) and r G Rhsk where",
        "with 6 G Ak, qi G Qi, q0 G Q0, and x G Xk.",
        "Moreover, each variable of l (including y) is supposed to occur exactly once in r. We refer to Shieber (2006) for a full description of embedded tree transducers.",
        "As seen from the syntax, we write the context parameter y of a state q G Qi as q(y).",
        "If q G Q0, then we also write q() or q(e).",
        "In each right-hand side, such a context parameter u can contain output symbols and further calls to input subtrees.",
        "The semantics of extended embedded tree transducers with substitution deviates slightly from the embedded tree transducer semantics.",
        "Roughly speaking, not its rules as such, but rather their evaluation are now applied in a term-rewrite fashion.",
        "Let",
        "• If l = ■[■ 1 l2) for some A G E, then select p' G N, parse li in p with context c' where c' = c[A – p'1, and parse l2 in p' with context c.",
        "[ s, a S* a/ \\",
        "[ s, a S* a/ \\",
        "[ s,",
        "/ \\",
        "SS /1 \\",
        "SS",
        "/ \\",
        "/ \\",
        "SS",
        "■[■1s, b S* b / \\",
        "[ s, b S* b",
        "/ \\",
        "/ \\ ■ Hs, b S* b / \\",
        "SS",
        "/ 1 \\",
        "SS",
        "/ 1 \\",
        "/ \\",
        "SS",
        "/ \\",
        "S* a S* a",
        "S* a S* a",
        "S* a S* a",
        "Figure 12: Rule and derivation step using the rule in an extended embedded tree transducer with substitution where the context parameter (if present) is displayed as first child.",
        "where 6 G Ak, qi G Qi, qo G Qo, and t G Ts.",
        "Given £, Z G SF', we write £ => Z if there exist C G Ca(Xi), ti,..., tfc G Ts, u G Ta U {e}, and a rule q(u)(Z) – r G R with l G Cs(Xk) such that",
        "• Z = C [(r[ti,...,tk1 )[u1 y1.",
        "Note that the essential difference to the \"standard\" semantics of embedded tree transducers is the evaluation in the first item.",
        "The tree transformation computed by M is defined as usual.",
        "We illustrate a derivation step in Figure 12, where the match ■[ ■ 1 s„(xi,S(T(c)))E = S(S(T(c))) is successful for xi = S(S*).",
        "Theorem 2 Every STAG can be simulated by an extended embedded tree transducer with substitution.",
        "Moreover, every extended embedded tree transducer computes a tree transformation that can be computed by a STAG up to a relabeling."
      ]
    },
    {
      "heading": "8. Conclusions",
      "text": [
        "We presented an alternative view on STAG using tree transducers (or equivalently, STSG).",
        "Our main result shows that the syntactic characterization of STAG as STSG plus adjunction rules also carries over to the semantic side.",
        "A STAG tree transformation can also be computed by an STSG using explicit substitution.",
        "In the light of this result, some standard problems for STAG can be reduced to the corresponding problems for STSG.",
        "This allows us to reuse existing algorithms for STSG also for STAG.",
        "Moreover, existing STAG algorithms can be related to the corresponding STSG algorithms, which provides further evidence of the close relationship between the two models.",
        "We used this relationship to develop a",
        "Bar-Hillel construction for STAG.",
        "Finally, we hope that the alternative characterization is easier to handle and might provide further insight into general properties of STAG such as compositions and preservation of regularity."
      ]
    },
    {
      "heading": "Acknowledgements",
      "text": [
        "Andreas Maletti was financially supported by the Ministerio de Educacion y Ciencia (MEC) grant JDCI-2007-760.",
        "qs ()",
        ")",
        "S",
        "/ \\",
        "1",
        "SS",
        "S",
        "^ 1 1",
        "1",
        "T S*",
        "T",
        "1",
        "c",
        "c"
      ]
    }
  ]
}
